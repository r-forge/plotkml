<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Whitening legend (PNG)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="R.css">
</head><body>

<table width="100%" summary="page for kml_legend.whitening {plotKML}"><tr><td>kml_legend.whitening {plotKML}</td><td align="right">R Documentation</td></tr></table>

<h2>Whitening legend (PNG)</h2>

<h3>Description</h3>

<p>Produces a PNG file that can be used in KML plots (visualization of uncertainty).</p>


<h3>Usage</h3>

<pre>
kml_legend.whitening(legend.res = 0.01, width = 120, height = 300, pointsize = 14, 
                 x.lim, e.lim, leg.asp = 0.3 *  width/height, 
                 legend.file = "whitening_legend.png",
                 matte = FALSE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>legend.res</code></td>
<td>
<p>numeric; resolution on a 0-1 scale</p>
</td></tr>
<tr valign="top"><td><code>width</code></td>
<td>
<p>integer; image width</p>
</td></tr>
<tr valign="top"><td><code>height</code></td>
<td>
<p>integer; image height</p>
</td></tr>
<tr valign="top"><td><code>pointsize</code></td>
<td>
<p>integer; point size in units for text</p>
</td></tr>
<tr valign="top"><td><code>x.lim</code></td>
<td>
<p>numeric; upper and lower limits for target variable</p>
</td></tr>
<tr valign="top"><td><code>e.lim</code></td>
<td>
<p>numeric; upper and lower limits for the normalized error</p>
</td></tr>
<tr valign="top"><td><code>leg.asp</code></td>
<td>
<p>numeric; legend aspect</p>
</td></tr>
<tr valign="top"><td><code>legend.file</code></td>
<td>
<p>character; output PNG file name</p>
</td></tr>
<tr valign="top"><td><code>matte</code></td>
<td>
<p>logical; specify whether to fix transparency using ImageMagick</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The output PNG file shows a 2D legend with values on the vertical axis and uncertainty on the horizontal axis. Whitening is only valid with Hue-Saturation-Intensity system where Hue's are used to represent values of the target variable, so that the amount of white color can be linearly used to represent uncertainty (i.e. whitening can not be used with different color palettes; or at least we do not recommend this).</p>


<h3>Note</h3>

<p>Google Earth does not properly handle a 24-bit PNG file which has a single transparent color. In order to force transparency in the output PNG, the function with try using ImageMagick convert function. ImageMagick needs to be installed separately and located using <code>plotKML.env()</code>.</p>


<h3>Author(s)</h3>

<p> Tomislav Hengl </p>


<h3>References</h3>


<ul>
<li><p> Hengl, T., Heuvelink, G.M.B., Stein, A., (2004) <a href="http://dx.doi.org/10.1016/j.geoderma.2003.08.018">A generic framework for spatial prediction of soil variables based on regression-kriging</a>. Geoderma 122 (1-2): 75-93.
</p>
</li>
<li><p> Hengl, T., (2003) <a href="http://www.geocomputation.org/2003/Papers/Hengl_Paper.pdf">Visualisation of uncertainty using the HSI colour model: computations with colours</a>. 7th International Conference on GeoComputation (CD-ROM), p. 8.
</p>
</li></ul>



<h3>See Also</h3>

 <p><code><a href="whitening.html">whitening</a></code>
</p>


<h3>Examples</h3>

<pre>
## Not run: # create the 2D legend for whitening (PNG file):
kml_legend.whitening(x.lim=c(5,20), e.lim=c(.6,1))

## End(Not run)
</pre>

<hr><div align="center">[Package <em>plotKML</em> version 0.4-1 <a href="00Index.html">Index</a>]</div>
</body></html>
