<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: GPS log of a bike tour</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../R.css">
</head><body>

<table width="100%" summary="page for gpxbtour {plotKML}"><tr><td>gpxbtour {plotKML}</td><td align="right">R Documentation</td></tr></table>

<h2>GPS log of a bike tour</h2>

<h3>Description</h3>

<p>GPS log of a bike tour from Wageningen (the Netherlands) to Münster (Germany). The table contains 3228 records of GPS locations, speed and elevation.</p>


<h3>Usage</h3>

<pre>
data(gpxbtour)
</pre>


<h3>Format</h3>

<p>
The data frame contains the following columns:

<dl>
<dt>lon</dt><dd>longitude (x-coordinate)</dd>
<dt>lat</dt><dd>latitude (y-coordinate)</dd>
<dt>ele</dt><dd>GPS-estimated elevation in m</dd>
<dt>speed</dt><dd>GPS-estimated speed in km per hour</dd>
<dt>time</dt><dd>XML Schema time</dd>
</dl>
 
</p>


<h3>Note</h3>

<p> The log was produced using the GlobalSat GH-615 GPS watch. The original data log (trackpoints) was first saved to GPX exchange format (<a href="http://www.topografix.com/gpx.asp">http://www.topografix.com/gpx.asp</a>) and then imported to R using the XML package and formatted to a data frame.
</p>


<h3>Author(s)</h3>

<p> Tomislav Hengl (tom.hengl@wur.nl) </p>


<h3>Examples</h3>

<pre>
data(gpxbtour)
# str(gpxbtour)
## format the time column:
gpxbtour$ctime &lt;- as.POSIXct(gpxbtour$time, format="%Y-%m-%dT%H:%M:%SZ")
coordinates(gpxbtour) &lt;- ~lon+lat
proj4string(gpxbtour) &lt;- CRS("+proj=longlat +datum=WGS84")

# extended examples:
## Not run: 
  ## derive distance from origin:
  require(fossil)
  xy &lt;- as.list(data.frame(t(coordinates(gpxbtour))))
  gpxbtour$dist.km &lt;- sapply(xy, function(x) deg.dist(long1=x[1], lat1=x[2], long2=xy[[1]][1], lat2=xy[[1]][2]))
  plot(gpxbtour$dist.km, gpxbtour$speed, type="l", xlab="Distance from origin in km", ylab="speed in km per hour")
  # convert to a STIDFtraj class:
  require(spacetime)
  require(adehabitatLT)
  gpx.ltraj &lt;- as.ltraj(coordinates(gpxbtour), gpxbtour$ctime, id = "th")
  gpx.st &lt;- as(gpx.ltraj, "STIDFtraj")
  gpx.st$speed &lt;- gpxbtour$speed
  gpx.st@sp@proj4string &lt;- CRS("+proj=longlat +datum=WGS84")
  # open KML file:
  kml_open("gpxbtour.kml", overwrite = TRUE)
  # plot trajectory with speed as colour attribute:
  kml_layer(obj=gpx.st, colour=speed, z.lim=c(18,32))
  # close KML:
  kml_close()
  kml_compress("gpxbtour.kml")

## End(Not run)
</pre>

<hr><div align="center">[Package <em>plotKML</em> version 0.1-2 <a href="00Index.html">Index</a>]</div>
</body></html>
